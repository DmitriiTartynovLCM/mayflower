import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import HeaderSlim from '@massds/mayflower-react/dist/HeaderSlim';
import Header from '@massds/mayflower-react/dist/Header';
import SiteLogo from '@massds/mayflower-react/dist/SiteLogo';
import ButtonWithIcon from '@massds/mayflower-react/dist/ButtonWithIcon';
import IconSearch from '@massds/mayflower-react/dist/Icon/IconSearch';
import IconLatlonglobe from '@massds/mayflower-react/dist/Icon/IconLatlonglobe';
import IconLogin from '@massds/mayflower-react/dist/Icon/IconLogin';
import logo from '@massds/mayflower-assets/static/images/logo/stateseal.png';

import generateTitle from '../../util/generateTitle';

<Meta
  title={generateTitle('Header')}
  parameters={{
    viewMode: 'docs'
  }}
/>

# Header

Headers are containers that span across the top of each page to house product-wide branding and global actions and navigation, as well as user preferences.

<Canvas>
  <HeaderSlim
   siteLogo={<SiteLogo
     url={{
       domain: 'https://www.mass.gov/'
     }}
     image={{
       src: logo,
       alt: 'Massachusetts state seal',
       width: 45,
       height: 45
     }}
     siteName="Mass.gov"
     title="Mass.gov homepage"
   />}
  />
</Canvas>

## Overview
Mayflower header consists of the following parts:
- Utility nav — a blue bar spans across the top of the header that is used to house global actions such as:
  - Log in/ logout
  - Global hamburger navigation
  - Language translation
  - Other global utilities
- Site logo and title
- Navigation items such a drop down menu or a search bar

## Variations

Base on the complexity of the navigation functionality, we can categorize Mayflower headers into the following two types:
- **A Slim Header:**
A flexible container that includes the site logo and styles of the Mayflower header with fully configurable utility nav and main nav areas

- **A Full-Menu Header:**
Header with full menu is designed for sites with more complex information architecture, it includes a main nav that allows up to two levels of navigation


### Header (Slimmest)
A most simplified version of a header contains a blue bar (height: 15px) at the top and a site logo and site name linked to the home of the website, placed on a light gray background ($c-gray-lightest)
<Canvas>
  <HeaderSlim
   siteLogo={<SiteLogo
     url={{
       domain: 'https://www.mass.gov/'
     }}
     image={{
       src: logo,
       alt: 'Massachusetts state seal',
       width: 45,
       height: 45
     }}
     siteName="Mass.gov"
     title="Mass.gov homepage"
   />}
  />
</Canvas>

### Header (Slim version with utility nav links)
For web apps and websites that provide multi-language localization and login/logout functionalities, add the action links or buttons in the utility navigation bar as such:
<Canvas>
  <HeaderSlim
    siteLogo={<SiteLogo image={{alt: 'Massachusetts state seal', height: 45, src: 'static/media/stateseal.90d94572.png', width: 45}} siteName="Mass.gov" title="Mass.gov homepage" url={{domain: 'https://www.mass.gov/'}}/>}
    skipNav={<a className="ma__header__skip-nav" href="#main-content">skip to main content</a>}
    utilityNav={
      <>
        <a className="ma__header_slim__utility-link" href="#main-content"><IconLatlonglobe fill="#fff" />English</a>
        <a className="ma__header_slim__utility-link" href="#main-content"><IconLogin fill="#fff" />Log in</a>
      </>
    }
  />
</Canvas>

### Header (Slim version with utility nav links and search)
For simple navigation options, add the main navigation links and search bar in the header nav container `.ma__header_slim__nav`
<Canvas>
  <HeaderSlim
    mainNav={<ButtonWithIcon icon={<IconSearch />} />}
    siteLogo={<SiteLogo image={{alt: 'Massachusetts state seal', height: 45, src: 'static/media/stateseal.90d94572.png', width: 45}} siteName="Mass.gov" title="Mass.gov homepage" url={{domain: 'https://www.mass.gov/'}}/>}
    skipNav={<a className="ma__header__skip-nav" href="#main-content">skip to main content</a>}
    utilityNav={
      <>
        <a className="ma__header_slim__utility-link" href="#main-content"><IconLatlonglobe fill="#fff" />English</a>
        <a className="ma__header_slim__utility-link" href="#main-content"><IconLogin fill="#fff" />Log in</a>
      </>
    }
  />
</Canvas>

### Header (With Dropdown Menu)

For sites with more complex information architecture, Mayflower provides examples of headers with a fully integrated, responsive and interactive menu. The menu can contain up to two levels of navigation links and is available in two options:

Header with a dropdown menu. This option is specifically for websites and pages where the top level navigation is important for the users to browse and find the information they need. For example, this header option is used on the Mass.gov homepage.

<Canvas>
  <Header
    headerSearch={{
      buttonSearch: {
        'aria-label': 'Search',
        onClick: () => {},
        usage: 'secondary'
      },
      onChange: function noRefCheck() {},
      onSubmit: function noRefCheck() {},
      placeholder: 'Search Mass.gov'
    }}
    hideBackTo
    hideHeaderSearch={false}
    mainNav={{
      mainNav: [
        {
          active: false,
          href: undefined,
          subNav: [
            {
              href: 'https://mass.gov',
              text: 'Health & Social Services'
            },
            {
              href: '/patterns/05-pages-topic/05-pages-topic.html',
              text: 'Family & Children'
            },
            {
              href: '#',
              text: 'Housing'
            },
            {
              href: '#',
              text: 'Transportation'
            },
            {
              href: '#',
              text: 'Legal & Justice'
            },
            {
              href: '#',
              text: 'Public Safety'
            },
            {
              href: '#',
              text: 'Voting'
            },
            {
              href: '#',
              text: 'Taxes'
            }
          ],
          text: 'Living'
        },
        {
          active: false,
          href: '#',
          subNav: [
            {
              href: '#',
              text: 'Unemployment'
            },
            {
              href: '#',
              text: 'Finding a Job'
            },
            {
              href: '#',
              text: 'Worker’s Rights & Safety'
            },
            {
              href: '#',
              text: 'Business Services & Resources'
            },
            {
              href: '#',
              text: 'Professional Licensing & Certification'
            },
            {
              href: '#',
              text: 'Professional Training'
            }
          ],
          text: 'Working'
        },
        {
          active: false,
          href: '#',
          subNav: [
            {
              href: '#',
              text: 'Early Childhood Education'
            },
            {
              href: '#',
              text: 'K-12 Schools'
            },
            {
              href: '#',
              text: 'Higher Education'
            },
            {
              href: '#',
              text: 'Continuing Education'
            }
          ],
          text: 'Learning'
        },
        {
          active: true,
          href: '/patterns/05-pages-section-landing/05-pages-section-landing.html',
          subNav: [
            {
              href: '#',
              text: 'Recreational Licenses & Permits'
            },
            {
              href: '#',
              text: 'State Parks & Recreation'
            },
            {
              href: '#',
              text: 'Travel & Tourism'
            },
            {
              href: '#',
              text: 'Arts & Culture'
            }
          ],
          text: 'Visiting & Exploring'
        },
        {
          active: false,
          href: '#',
          subNav: [
            {
              href: '#',
              text: 'Office of the Governor'
            },
            {
              href: '#',
              text: 'State Agencies'
            },
            {
              href: '/patterns/05-pages-topic-your-government/05-pages-topic-your-government.html',
              text: 'Executive Branch'
            },
            {
              href: '#',
              text: 'Judicial Branch'
            },
            {
              href: '#',
              text: 'Legislative Branch'
            },
            {
              href: '#',
              text: 'Local Government'
            }
          ],
          text: 'Your Government'
        }
      ],
      onNavigateCallBack: function noRefCheck() {}
    }}
    searchRedirect={{
      baseUrl: 'https://search.mass.gov',
      queryParams: {
        page: '1'
      },
      searchTermParam: 'q'
    }}
    siteLogo={{
      image: {
        alt: 'Massachusetts state seal',
        height: 45,
        src: 'static/media/stateseal.90d94572.png',
        width: 45
      },
      siteName: 'Mass.gov',
      title: 'Mass.gov homepage',
      url: {
        domain: 'https://www.mass.gov/'
      }
    }}
    utilityNav={{
      items: [
        {
          ariaLabelText: '',
          closeText: undefined,
          icon: 'IconBuilding',
          panel: undefined,
          text: 'All Budgets'
        },
        {
          ariaLabelText: '',
          closeText: 'Close',
          icon: 'building',
          panel: {
            description: {
              text: 'The <a href="#">A-Z Organizations page</a> provides an alphabetical listing of government organizations, including commissions, departments, and bureaus.'
            }
          },
          text: 'State Organizations'
        },
        {
          ariaLabelText: 'Log in to the most requested services',
          closeText: 'Close',
          icon: 'IconLogin',
          panel: {
            description: {
              text: 'These are the top requested sites you can log in to access state provided services'
            },
            links: [
              {
                href: 'https://uionline.detma.org/Claimant/Core/Login.ASPX',
                text: 'Unemployment Online',
                type: 'external'
              },
              {
                href: 'https://sso.hhs.state.ma.us/oam/server/obrareq.cgi?encquery%3DA2%2Fmo5AkZreDycpyP0JZAEOYGvW2hviyNhH9Sht2xPp0V1%2BBtWfHnmRGr6zNHOqOlcjphPk7p6bpHHRyNzzk9IYQ%2FcN%2B%2FIcqL2ThnI217OsIKZepptTpGBx83SI0NWjsE7vDi72caItXWlelbGQT7ePanlrVUUy2%2Fj1UEUaXi5G7m47KO9djBnoetZRCtp9G2ZTNFf6zvCGU7Cs02AXYUj2JMH4aqol%2Bh3OK6uhJNNkFvwQ1MFRUa4gR1az4iaW9u83ExKb2a9eDv8ZIUqhlq3%2BNVGTqZHAsHX4KOONSGQRBwCtLNPWwruacjdd9CaEqeIJ2tnP45KrM93edZ6zU1yoWGbAp%2BUWWMqk4HyrtuA8%3D%20agentid%3Dwebgate1%20ver%3D1%20crmethod%3D2',
                text: 'Virtual Gateway (SNAP)',
                type: 'external'
              },
              {
                href: 'https://ecse.cse.state.ma.us/ECSE/Login/login.asp',
                text: 'Child Support Enforcement',
                type: 'external'
              }
            ]
          },
          text: 'Log in to...'
        }
      ]
    }}
  />
</Canvas>




### Header (With Hamburger Menu) **
The hamburger menu by default collapses the main navigation of the site into a side drawer that opens up when users interact with the “Menu” icon. This option saves the header space for content pages whose primary goals are for accessing the information and actions in the main content area. For example this header option is used on the Mass.gov content pages that are not the homepage.
